function passSubmits(){var e=$("#temp_password").val(),a=$("#password").val(),t=$("#confirm_password").val(),r=$("#tlf_id").val(),o="temp_password="+e+"&password="+a+"&tlf_id="+r;a!==t?alert("Passwords do not match"):$(function(){jQuery.ajax({type:"POST",url:"_/components/php/update_password.php",data:o,success:function(e){alert(e),window.location.href="index.php"},error:function(){alert("failure")}})})}function addGiftedFire(e,a,t,r){if(1==confirm("This will confirm that you received your gift from "+r)){var o="water_id="+e+"&fire_id="+a+"&gifted_date="+t;jQuery.ajax({type:"POST",url:"_/components/php/recordGifter.php",data:o,success:function(e){console.log(e),alert("You will receive an email with the link to your gifting letter."),window.location.href="water.php"},error:function(){alert("failure")}})}}function flower_det(e){var a=e,t="flower_num="+a;jQuery.ajax({type:"POST",url:"_/components/php/flower_detail.php",data:t,success:function(e){document.getElementById("myFlower").innerHTML=e},error:function(){alert("failure")}})}function mstone(e){var a="next_mstone="+e;jQuery.ajax({type:"POST",url:"_/components/php/update_mstone.php",data:a,success:function(){alert("Great Job!"),window.location.href="seeds.php"},error:function(){alert("failure")}})}function flower_dets(e,a){var t="lotus_id="+e+"&tlf_id="+a;jQuery.ajax({type:"POST",url:"_/components/php/flower_detail.php",data:t,success:function(e){document.getElementById("myFlower").innerHTML=e},error:function(){alert("failure")}})}function board_dets(e,a){var t="lotus_id="+e+"&water_id="+a;jQuery.ajax({type:"POST",url:"_/components/php/board_detail.php",data:t,success:function(e){document.getElementById("myFlower").innerHTML=e},error:function(e){alert(e)}})}function flower_dets_admin(e,a){var t="lotus_id="+e+"&tlf_id="+a;jQuery.ajax({type:"POST",url:"_/components/php/flower_detail_admin.php",data:t,success:function(e){document.getElementById("myFlower").innerHTML=e},error:function(){alert("failure")}})}function logMeOut(){jQuery.ajax({type:"POST",url:"_/components/php/logout.php",success:function(){window.location="index.php",localStorage.clear()},error:function(){alert("failure")}})}function changeNav(e){document.getElementById("navbar").innerHTML='<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#collapsemenu" aria-controls="collapsemenu" aria-expanded="false" aria-label="Toggle Navigation"><span class="navbar-toggler-icon"></span></button><!--hamburgerbutton--><div class="collapse navbar-collapse" id="collapsemenu"><ul class="navbar-nav nav-pills nav-justified"><li class="nav-item"><a href="index.php" class="nav-link" onclick="changebackNav();"><img src="images/home.png" style="width:3vw; height:3vw;"></i> HOME</a></li><li class="nav-item"><a href="#" class="nav-link" onclick="changeNav(\''+e+'\');"><img src="images/Seed.png" style="width:3vw; height:3vw;"></i> Seeds</a></li><li class="nav-item"><a href="myflowers.php" class="nav-link" onclick="changeNav(\''+e+'\');"><img src="images/Tree of Life.png" style="width:3vw; height:3vw;"> Trees</a></li><li class="nav-item"><a href="support.php" class="nav-link" onclick="changeNav(\''+e+'\');"><img src="images/family.png" style="width:3vw; height:3vw;"> Family</a></li><li class="nav-item"><a href="water.php" class="nav-link" onclick="changeNav(\''+e+'\');"><img src="images/harvest.png" style="width:3vw; height:3vw;"> Harvest</a></li><li class="nav-item"><a href="user.php" class="nav-link" onclick="changeNav(\''+e+'\');"><img src="images/user.png" style="width:3vw; height:3vw;"> '+e+"</a></li></div></li></ul><!--nav--></div><!--collapse-->"}function changebackNav(e){document.getElementById("navbar").innerHTML='<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#collapsemenu" aria-controls="collapsemenu" aria-expanded="false" aria-label="Toggle Navigation"><span class="navbar-toggler-icon"></span></button><!--hamburgerbutton--><div class="collapse navbar-collapse" id="collapsemenu"><ul class="navbar-nav nav-pills nav-justified"><li class="nav-item"><a href="index.php" class="nav-link"><img src="images/home.png" style="width:3vw; height:3vw;"></i> HOME</a></li><li class="nav-item"><a href="bridges.php" class="nav-link"><img src="images/bridge.png" style="width:3vw; height:3vw;"></i> BRIDGES</a></li><li class="nav-item"><a href="bees.php" class="nav-link"><img src="images/bees.png" style="width:3vw; height:3vw;"> BEES</a></li><li class="nav-item"><a href="#" class="nav-link" onclick="changeNav(\''+e+'\');"><img src="images/harvest.png" style="width:3vw; height:3vw;" > EDEN</a></li><li class="nav-item"><a href="user.php" class="nav-link"><img src="images/user.png" style="width:3vw; height:3vw;"> '+e+"</a></li></ul><!--nav--></div><!--collapse-->"}function editGiftMethod(e){var a=e+1;if(""==document.querySelector("#method"+e).value)var t=e,r=0;else var t=a,r=1;var o="addedMethod="+r+"&count="+t;for(i=0;i<t;i++)if(1==r)if(i==e){var l=document.querySelector("#method"+i).value,n=document.querySelector("#giftUsername"+i).value,s=document.querySelector("#tlf_id"+i).value;o=o+"&method"+i+"="+l+"&username"+i+"="+n+"&tlf_id="+s}else{var l=document.querySelector("#method"+i).value,n=document.querySelector("#giftUsername"+i).value,c=document.querySelector("#id"+i).value;o=o+"&method"+i+"="+l+"&username"+i+"="+n+"&id"+i+"="+c}else{var l=document.querySelector("#method"+i).value,n=document.querySelector("#giftUsername"+i).value,c=document.querySelector("#id"+i).value;o=o+"&method"+i+"="+l+"&username"+i+"="+n+"&id"+i+"="+c}jQuery.ajax({type:"POST",url:"_/components/php/editGiftMethods.php",data:o,success:function(e){alert(e),$("#editMethods").modal("hide"),window.location.href="user.php"},error:function(e){alert("error"+e)}})}function treeView(e,a){var t="id="+e+"&user="+a;jQuery.ajax({type:"POST",url:"_/components/php/getViewData2.php",data:t,success:function(e){console.log(e),localStorage.setItem("viewData",e),window.location.href="orgView.php"},error:function(e){alert("error"+e)}})}function newTree(e){$("#addTreeAdmin").modal("toggle"),localStorage.setItem("up_id",e)}function addFromSeeds(){$up_id=localStorage.getItem("up_id"),$tlf_id=localStorage.getItem("tlf_id");var e=document.getElementById("addSeed"),a=document.createElement("option");a.text="James Misa",a.value="174",e.add(a),$("#addFromSeedsAdmin").modal("toggle")}function storeParent(e,a){localStorage.setItem("parent_id",e),localStorage.setItem("board_brand",a)}function getSeeds(){jQuery.ajax({type:"POST",url:"_/components/php/getSeedsList.php",success:function(e){for(var a=document.getElementById("addSeed"),t=JSON.parse(e),r=0;r<t.length;r++){var o=t[r].id,l=t[r].name,n=document.createElement("option");n.textContent=l,n.value=o,a.appendChild(n)}if("107"==localStorage.getItem("board_brand"))var i="Enter Sow Date (MUST BE A SATURDAY!)";else var i="Enter Sow Date (MUST BE A SUNDAY!)";document.getElementById("seedDesc").innerHTML=i,$("#addFromSeeds").modal("show")},error:function(e){alert("error"+e)}})}function getTrees(){jQuery.ajax({type:"POST",url:"_/components/php/getTreesList.php",success:function(e){for(var a=document.getElementById("addNewTree"),t=JSON.parse(e),r=0;r<t.length;r++){var o=t[r].tlf_id,l=t[r].name,n=document.createElement("option");n.textContent=l,n.value=o,a.appendChild(n)}if("107"==localStorage.getItem("board_brand"))var i="Enter Sow Date (MUST BE A SATURDAY!)";else var i="Enter Sow Date (MUST BE A SUNDAY!)";document.getElementById("treeDesc").innerHTML=i,$("#addFromTrees").modal("show")},error:function(e){alert("error"+e)}})}$("#verSubmit").click(function(){var e=$("#temp_password").val(),a=$("#password").val(),t=$("#confirm_password").val(),r=$("#tlf_id").val(),o="temp_password="+e+"&password="+a+"&tlf_id="+r;a!==t?alert("Passwords do not match"):$(function(){jQuery.ajax({type:"POST",url:"_/components/php/update_password.php",data:o,success:function(e){alert(e),window.location.href="index.php"},error:function(){alert("failure")}})})}),$("#refSubmit").click(function(){var e=$("#refEmail").val(),a="email="+e;$(function(){jQuery.ajax({type:"POST",url:"_/components/php/findReferrer.php",data:a,success:function(e){console.log(e);var a=JSON.parse(e);2==a[0]?($("#register").modal("hide"),$(".modal-body .referrer_name").val(a[1]),$(".modal-body .ref_id").val(a[2]),$(".modal-body .promoCode5").val(a[3]),$(".modal-body .priceCode").val(a[4]),$("#newRegister").modal("toggle")):(alert("This email address does not exist."),$("#login").modal("hide"))},error:function(){alert("failure")}})})}),$("#passSubmit").click(function(){alert("im here");var e=$("#temp_password").val(),a=$("#password").val(),t=$("#confirm_password").val(),r=$("#tlf_id").val(),o="temp_password="+e+"&password="+a+"&tlf_id="+r;a!==t?alert("Passwords do not match"):$(function(){jQuery.ajax({type:"POST",url:"_/components/php/update_password.php",data:o,success:function(e){alert(e),window.location.href="index.php"},error:function(){alert("failure")}})})}),$("#chPassSubmit").click(function(){var e=$("#currPassword").val(),a=$("#password").val(),t=$("#confirmPassword").val(),r=$("#email").val(),o="currPassword="+e+"&password="+a+"&email="+r;a!==t?alert("Passwords do not match"):$(function(){jQuery.ajax({type:"POST",url:"_/components/php/changePassword.php",data:o,success:function(e){alert(e),window.location.href="user.php"},error:function(){alert("failure")}})})}),$("#loginSubmit").click(function(){var e=$("#loginEmail").val(),a=$("#loginPassword").val(),t="email="+e+"&password="+a;""==e||""==a?alert("Please fill all fields"):jQuery.ajax({type:"POST",url:"_/components/php/processLogin.php",data:t,success:function(e){console.log(e),$("#login").modal("hide");var a=JSON.parse(e);"Success"==a[0]?(localStorage.setItem("logged_in","IN"),localStorage.setItem("terms",a[1]),localStorage.setItem("tlf_id",a[2]),window.location.href="seeds.php",alert(a[0])):"Error"==a[0]&&alert(a[1])},error:function(e){alert(e)}})}),$("#inviteSubmit").click(function(){var e=$("#email").val(),a="email="+e;jQuery.ajax({type:"POST",url:"_/components/php/resendInvite.php",data:a,success:function(e){alert(e),$("#login").modal("hide"),window.location.href="index.php"},error:function(e){alert(e)}})}),$("#setupSubmit").click(function(){var e=$("#email").val(),a="email="+e;jQuery.ajax({type:"POST",url:"_/components/php/completeSetup.php",data:a,success:function(e){$("#setup").modal("hide"),document.getElementById("passwordSetup").innerHTML=e},error:function(e){alert(e)}})}),$("#startBoardSubmit").click(function(){var e=$("#boardLevel").val(),a=$("#placementMethod").val();if("Specific Tree"==a)var t=$("#boardID").val();else var t="NULL";var r="boardLevel="+e+"&placementMethod="+a+"&boardID="+t;jQuery.ajax({type:"POST",url:"_/components/php/confirmPosition.php",data:r,success:function(e){console.log(e),alert(e),window.location.href="myTrees.php"},error:function(e){alert("error"+e)}})}),$("#addSeedSubmit").click(function(){var e=$("#addSeed").val(),a=$("#fireDate3").val(),t=localStorage.getItem("parent_id"),r="seed_id="+e+"&parent_id="+t+"&fireDate="+a;""==a?alert("Please select a Sow Date"):jQuery.ajax({type:"POST",url:"_/components/php/addFlower.php",data:r,success:function(e){alert(e),$("#addFromSeeds").modal("hide"),window.location.href="myTrees.php"},error:function(e){alert(e)}})}),$("#addTreeSubmit").click(function(){var e=$("#addNewTree").val(),a=$("#fireDateTree").val(),t=localStorage.getItem("parent_id"),r="tree_id="+e+"&parent_id="+t+"&fireDateTree="+a;""==a?alert("Please select a Sow Date"):jQuery.ajax({type:"POST",url:"_/components/php/addTree.php",data:r,success:function(e){alert(e),$("#addFromTrees").modal("hide"),window.location.href="myTrees.php"},error:function(e){alert(e)}})}),$("#addSeedAdminSubmit").click(function(){var e=$("#addSeed").val(),a=$("#fireDate2").val(),t=$("#lotus_id2").val(),r="seed="+e+"&lotus_id="+t+"&fireDate="+a;""==a?alert("Please select a fireDate"):jQuery.ajax({type:"POST",url:"_/components/php/addSeedAdmin.php",data:r,success:function(e){alert(e),$("#addFlowerForm").modal("hide"),window.location.href="myflowers.php"},error:function(e){alert(e)}})}),$("#addFlowerAdminSubmit").click(function(){var e=$("#addFlower2").val(),a=$("#fireDate").val(),t=$("#lotus_id").val(),r="flower="+e+"&lotus_id="+t+"&fireDate="+a;""==a?alert("Please select a Seed Date"):jQuery.ajax({type:"POST",url:"_/components/php/addFlowerAdmin.php",data:r,success:function(e){alert(e),$("#addFlower").modal("hide"),window.location.href="myflowers.php"},error:function(e){alert(e)}})}),$("#replaceFlowerSubmit").click(function(){var e=$("#replacedFlower").val(),a=$("#addedFlower").val(),t="replacedFlower="+e+"&addedFlower="+a;jQuery.ajax({type:"POST",url:"_/components/php/replaceFlower.php",data:t,success:function(e){alert(e),$("#replaceFlower").modal("hide"),window.location.href="admin_portal.php"},error:function(e){alert(e)}})}),$("#editMethodsSubmit").click(function(){var e=$("#method").val(),a=$("#giftUsername").val(),t="method="+e+"&username="+a;jQuery.ajax({type:"POST",url:"_/components/php/editMethods.php",data:t,success:function(){$("#editUser").modal("hide"),window.location.href="user.php"},error:function(e){alert("error"+e)}})}),$("#defPasswordSubmit").click(function(){var e=$("#email").val(),a="email="+e;jQuery.ajax({type:"POST",url:"_/components/php/resetPassword.php",data:a,success:function(e){$("#changePassword").modal("hide"),alert(e)},error:function(e){alert("error"+e)}})}),$("#termsSubmit").click(function(){var e=$("#tlf_id").val(),a="tlf_id="+e;jQuery.ajax({type:"POST",url:"_/components/php/termsAgreed.php",data:a,success:function(e){$("#termsOptIn").modal("hide"),localStorage.removeItem("terms"),localStorage.setItem("terms",1),alert(e)},error:function(e){alert("error"+e)}})}),$("#checkLogin").click(function(){if(1!=confirm("Would you like to logout?"))return!1;jQuery.ajax({type:"POST",url:"_/components/php/logout.php",success:function(){window.location="index.php",localStorage.clear()},error:function(){alert("failure")}})}),$("#resetSubmit").click(function(){var e=$("#resetEmail").val();alert(e);var a="email="+e;jQuery.ajax({type:"POST",url:"_/components/php/resetPassword.php",data:a,success:function(e){$("#forgotPassword").modal("hide"),alert(e)},error:function(e){alert("error"+e)}})}),$("#editDateSubmit").click(function(){var e=$("#sowDate").val(),a=$("#this_lotus_id").val(),t="sowDate="+e+"&id="+a;jQuery.ajax({type:"POST",url:"_/components/php/updateSowDate.php",data:t,success:function(e){$("#editDate").modal("hide"),alert(e),window.location.href="orgView.php"},error:function(e){alert("error"+e)}})}),$("#editNameSubmit").click(function(){var e=$("#display_name").val(),a=$("#focus_id").val(),t="display_name="+e+"&focus_id="+a;jQuery.ajax({type:"POST",url:"_/components/php/updateDisplayName.php",data:t,success:function(e){console.log(e),$("#editName").modal("hide"),alert(e),window.location.href="orgView.php"},error:function(e){alert("error"+e)}})}),$("#editSubmit").click(function(){var e=$("#first_name").val(),a=$("#last_name").val(),t=$("#email2").val(),r=$("#phone").val(),o=$(".referrer_name").val();alert(o);var l=$("#tlf_id").val(),n="first_name="+e+"&last_name="+a+"&email="+t+"&phone="+r+"&referrer_name="+o+"&tlf_id="+l;jQuery.ajax({type:"POST",url:"_/components/php/editUser.php",data:n,success:function(){$("#editUser").modal("hide"),window.location.href="user.php"},error:function(e){alert("error"+e)}})}),$(document).ready(function(){function e(e,a,t,r){var o="source="+e.id+"&email="+a+"&tlf_id="+t+"&priceCode="+r;jQuery.ajax({type:"POST",url:"_/components/php/newCustomer.php",data:o,success:function(){$("#loader").addClass("loader"),window.location.href="receipt.php"},error:function(e){alert(e)}})}$("#editName").on("show.bs.modal",function(e){var a=$(e.relatedTarget).data("val");$(".modal-body #display_name").val(a)}),$("#visibility a").on("click",function(e){e.preventDefault(),"text"==$("#visibility input").attr("type")?($("#visibility input").attr("type","password"),$("#visibility a i").addClass("fa-eye-slash"),$("#visibility a i").removeClass("fa-eye")):"password"==$("#visibility input").attr("type")&&($("#visibility input").attr("type","text"),$("#visibility a i").removeClass("fa-eye-slash"),$("#visibility a i").addClass("fa-eye"))}),$('[data-toggle="tooltip"]').tooltip(),0==localStorage.getItem("terms")&&$("#termsOptIn").modal("show"),$(".regSubmit").click(function(){var e=$(".first_name").val();""==e&&alert("first name is missing");var a=$(".last_name").val();""==a&&alert("last name is missing");var t=$(".email").val();""==t&&alert("email is missing");var r=$(".phone").val();""==r&&alert("phone is missing");var o=$(".fireDate").val();""==o&&alert("fire date is missing");var l=$(".referrer_name").val();""==l&&alert("referrer name is missing");var n=$(".ref_id").val();""==n&&alert("ref_id is missing");var i=$(".password").val();""==i&&alert("password is missing");var s=$(".confirmPassword").val();""==s&&alert("confirm password is missing");var c=$(".promoCode").val();if(""==c)var c="Empty";var d=$(".priceCode").val(),p="first_name="+e+"&last_name="+a+"&email="+t+"&phone="+r+"&fireDate="+o+"&referrer_name="+l+"&ref_id="+n+"&password="+i+"&promoCode="+c+"&priceCode="+d;""==e||""==a||""==t||""==r||""==i||""==s||""==c?alert("Please fill all fields"):i!==s?alert("Passwords do not match"):$(function(){jQuery.ajax({type:"POST",url:"_/components/php/newUser3.php",data:p,success:function(e){console.log(e),$("#newRegister").modal("hide");var a=JSON.parse(e);"Success"==a[0]?"REDHAT"==a[4]?(document.getElementById("name").value=a[1],document.getElementById("email").value=a[2],document.getElementById("priceCode").value=a[5],localStorage.setItem("tlf_id",a[3]),$("#payment-form").modal("show")):(alert("Congrats! You're free to login."),window.location.href="index.php"):"Error"==a[0]&&alert(a[1])},error:function(e){alert(e)}})})}),$("#convertToSeed").click(function(){jQuery.ajax({type:"POST",url:"_/components/php/convertToSeed.php",success:function(e){alert(e),window.location.href="admin_portal.php"},error:function(e){alert(e)}})}),$("#deleteFlower").click(function(){jQuery.ajax({type:"POST",url:"_/components/php/deleteFlower.php",success:function(e){alert(e),window.location.href="myflowers.php"},error:function(e){alert(e)}})}),$("#loginPassword").keypress(function(e){13===e.which&&$("#loginSubmit").click()}),$("#loginForm").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{email:{validators:{notEmpty:{message:"Please supply your email address"},emailAddress:{message:"Please supply a valid email address"}}},password:{validators:{notEmpty:{message:"Please enter a password"}}}}});var a=Stripe("pk_live_51H5mLbGkFLnj68yKYxAJgqDZ5U0Lm734Jps5jRxgGofjEszwVCgX6TqRZ6ayjDph79dLUcdq9jt8eSlLNyNqXZQo00gj6ySdVS"),t=a.elements(),r={base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},o=t.create("card",{style:r});o.mount("#card-element"),o.addEventListener("change",function(e){var a=document.getElementById("card-errors");e.error?a.textContent=e.error.message:a.textContent=""});var l=document.getElementById("payment-form");$("#paymentSub").click(function(){$("#loader").removeClass("loader");var t=document.getElementById("name3").value,r=document.getElementById("address3").value,l=document.getElementById("zip3").value,n=document.getElementById("city3").value,i=document.getElementById("email1").value,s=document.getElementById("priceCode2").value,c={owner:{name:t,address:{line1:r,city:n,postal_code:l,country:"US"},email:i}};a.createSource(o,c).then(function(a){if(a.error){document.getElementById("card-errors").textContent=a.error.message}else{var t=localStorage.getItem("tlf_id");e(a.source,i,t,s)}})})});