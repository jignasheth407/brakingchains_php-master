/**
 * SyntaxHighlighter
 * http://alexgorbatchev.com/
 *
 * SyntaxHighlighter is donationware. If you are using it, please donate.
 * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
 *
 * @version
 * 2.0.296 (March 01 2009)
 * 
 * @copyright
 * Copyright (C) 2004-2009 Alex Gorbatchev.
 *
 * @license
 * This file is part of SyntaxHighlighter.
 * 
 * SyntaxHighlighter is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * SyntaxHighlighter is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/licenses/>.
 */
if(!window.SyntaxHighlighter)var SyntaxHighlighter=function(){var e={defaults:{"class-name":"","first-line":1,"font-size":null,highlight:null,"smart-tabs":!0,"tab-size":4,ruler:!1,gutter:!0,toolbar:!0,collapse:!1,"auto-links":!0,light:!1},config:{clipboardSwf:null,toolbarItemWidth:16,toolbarItemHeight:16,bloggerMode:!1,tagName:"pre",strings:{expandSource:"expand source",viewSource:"view source",copyToClipboard:"copy to clipboard",copyToClipboardConfirmation:"The code is in your clipboard now",print:"print",help:"?",alert:"SyntaxHighlighter\n\n",noBrush:"Can't find brush for: ",brushNotHtmlScript:"Brush wasn't configured for html-script option: ",aboutDialog:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>About SyntaxHighlighter</title></head><body style="font-family:Georgia,\'Times New Roman\',Times,serif;background-color:#fff;color:#000;font-size:1em;text-align:center;"><div style="text-align:center;margin-top:3em;"><div style="font-family:Geneva,Arial,Helvetica,sans-serif;font-size:xx-large;">SyntaxHighlighter</div><div style="font-size:.75em;margin-bottom:4em;"><div>version 2.0.296 (March 01 2009)</div><div><a href="http://alexgorbatchev.com" target="_blank" style="color:#0099FF;text-decoration:none;">http://alexgorbatchev.com</a></div></div><div>JavaScript code syntax highlighter.</div><div>Copyright 2004-2009 Alex Gorbatchev.</div></div></body></html>'},debug:!1},vars:{discoveredBrushes:null,spaceWidth:null,printFrame:null,highlighters:{}},brushes:{},regexLib:{multiLineCComments:/\/\*[\s\S]*?\*\//gm,singleLineCComments:/\/\/.*$/gm,singleLinePerlComments:/#.*$/gm,doubleQuotedString:/"(?:\.|(\\\")|[^\""\n])*"/g,singleQuotedString:/'(?:\.|(\\\')|[^\''\n])*'/g,multiLineDoubleQuotedString:/"(?:\.|(\\\")|[^\""])*"/g,multiLineSingleQuotedString:/'(?:\.|(\\\')|[^\''])*'/g,url:/\w+:\/\/[\w-.\/?%&=]*/g,phpScriptTags:{left:/(&lt;|<)\?=?/g,right:/\?(&gt;|>)/g},aspScriptTags:{left:/(&lt;|<)%=?/g,right:/%(&gt;|>)/g},scriptScriptTags:{left:/(&lt;|<)\s*script.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*script\s*(&gt;|>)/gi}},toolbar:{create:function(t){var n=document.createElement("DIV"),i=e.toolbar.items;n.className="toolbar";for(var r in i){var s=i[r],a=new s(t),l=a.create();t.toolbarCommands[r]=a,null!=l&&("string"==typeof l&&(l=e.toolbar.createButton(l,t.id,r)),l.className+="item "+r,n.appendChild(l))}return n},createButton:function(t,n,i){var r=document.createElement("a"),s=r.style,a=e.config,l=a.toolbarItemWidth,o=a.toolbarItemHeight;return r.href="#"+i,r.title=t,r.highlighterId=n,r.commandName=i,r.innerHTML=t,0==isNaN(l)&&(s.width=l+"px"),0==isNaN(o)&&(s.height=o+"px"),r.onclick=function(t){try{e.toolbar.executeCommand(this,t||window.event,this.highlighterId,this.commandName)}catch(t){e.utils.alert(t.message)}return!1},r},executeCommand:function(t,n,i,r,s){var a=e.vars.highlighters[i],l;return null==a||null==(l=a.toolbarCommands[r])?null:l.execute(t,n,s)},items:{expandSource:function(t){this.create=function(){if(1==t.getParam("collapse"))return e.config.strings.expandSource},this.execute=function(e,n,i){var r=t.div;e.parentNode.removeChild(e),r.className=r.className.replace("collapsed","")}},viewSource:function(t){this.create=function(){return e.config.strings.viewSource},this.execute=function(n,i,r){var s=e.utils.fixForBlogger(t.originalCode).replace(/</g,"&lt;"),a=e.utils.popup("","_blank",750,400,"location=0, resizable=1, menubar=0, scrollbars=1");s=e.utils.unindent(s),a.document.write("<pre>"+s+"</pre>"),a.document.close()}},copyToClipboard:function(t){var n,i,r=t.id;this.create=function(){function t(e){var t="";for(var n in e)t+="<param name='"+n+"' value='"+e[n]+"'/>";return t}function i(e){var t="";for(var n in e)t+=" "+n+"='"+e[n]+"'";return t}var s=e.config;if(null==s.clipboardSwf)return null;var a={width:s.toolbarItemWidth,height:s.toolbarItemHeight,id:r+"_clipboard",type:"application/x-shockwave-flash",title:e.config.strings.copyToClipboard},l={allowScriptAccess:"always",wmode:"transparent",flashVars:"highlighterId="+r,menu:"false"},o=s.clipboardSwf,c;return c=/msie/i.test(navigator.userAgent)?"<object"+i({classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0"})+i(a)+">"+t(l)+t({movie:o})+"</object>":"<embed"+i(a)+i(l)+i({src:o})+"/>",n=document.createElement("div"),n.innerHTML=c,n},this.execute=function(n,i,r){switch(r.command){case"get":var s=e.utils.unindent(e.utils.fixForBlogger(t.originalCode).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"));if(!window.clipboardData)return e.utils.unindent(s);window.clipboardData.setData("text",s);case"ok":e.utils.alert(e.config.strings.copyToClipboardConfirmation);break;case"error":e.utils.alert(r.message);break}}},printSource:function(t){this.create=function(){return e.config.strings.print},this.execute=function(n,i,r){function s(e,t){for(var n=t.getElementsByTagName("link"),i=0;i<n.length;i++)"stylesheet"==n[i].rel.toLowerCase()&&/shCore\.css$/.test(n[i].href)&&e.write('<link type="text/css" rel="stylesheet" href="'+n[i].href+'"></link>')}var a=document.createElement("IFRAME"),l=null;null!=e.vars.printFrame&&document.body.removeChild(e.vars.printFrame),e.vars.printFrame=a,a.style.cssText="position:absolute;width:0px;height:0px;left:-500px;top:-500px;",document.body.appendChild(a),l=a.contentWindow.document,s(l,window.document),l.write('<div class="'+t.div.className.replace("collapsed","")+' printing">'+t.div.innerHTML+"</div>"),l.close(),a.contentWindow.focus(),a.contentWindow.print()}},about:function(t){this.create=function(){return e.config.strings.help},this.execute=function(t,n){var i=e.utils.popup("","_blank",500,250,"scrollbars=0"),r=i.document;r.write(e.config.strings.aboutDialog),r.close(),i.focus()}}}},utils:{guid:function(e){return e+Math.round(1e6*Math.random()).toString()},merge:function(e,t){var n={},i;for(i in e)n[i]=e[i];for(i in t)n[i]=t[i];return n},toBoolean:function(e){switch(e){case"true":return!0;case"false":return!1}return e},popup:function(e,t,n,i,r){r+=", left="+(screen.width-n)/2+", top="+(screen.height-i)/2+", width="+n+", height="+i,r=r.replace(/^,/,"");var s=window.open(e,t,r);return s.focus(),s},addEvent:function(e,t,n){e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e.addEventListener(t,n,!1)},alert:function(t){alert(e.config.strings.alert+t)},findBrush:function(t,n){var i=e.vars.discoveredBrushes,r=null;if(null==i){i={};for(var s in e.brushes){var a=e.brushes[s].aliases;if(null!=a)for(var l=0;l<a.length;l++)i[a[l]]=s}e.vars.discoveredBrushes=i}return r=e.brushes[i[t]],null==r&&0!=n&&e.utils.alert(e.config.strings.noBrush+t),r},eachLine:function(e,t){for(var n=e.split("\n"),i=0;i<n.length;i++)n[i]=t(n[i]);return n.join("\n")},createRuler:function(){for(var e=document.createElement("div"),t=document.createElement("div"),n=10,i=1;i<=150;)i%10==0?(e.innerHTML+=i,i+=(i+"").length):(e.innerHTML+="&middot;",i++);return t.className="ruler line",t.appendChild(e),t},trimFirstAndLastLines:function(e){return e.replace(/^[ ]*[\n]+|[\n]*[ ]*$/g,"")},parseParams:function(e){for(var t,n={},i=new XRegExp("^\\[(?<values>(.*?))\\]$"),r=new XRegExp("(?<name>[\\w-]+)\\s*:\\s*(?<value>[\\w-%#]+|\\[.*?\\]|\".*?\"|'.*?')\\s*;?","g");null!=(t=r.exec(e));){var s=t.value.replace(/^['"]|['"]$/g,"");if(null!=s&&i.test(s)){var a=i.exec(s);s=a.values.length>0?a.values.split(/\s*,\s*/):[]}n[t.name]=s}return n},decorate:function(t,n){return null==t||0==t.length||"\n"==t?t:(t=t.replace(/</g,"&lt;"),t=t.replace(/ {2,}/g,function(e){for(var t="",n=0;n<e.length-1;n++)t+="&nbsp;";return t+" "}),null!=n&&(t=e.utils.eachLine(t,function(e){if(0==e.length)return"";var t="";return e=e.replace(/^(&nbsp;| )+/,function(e){return t=e,""}),0==e.length?t:t+'<code class="'+n+'">'+e+"</code>"})),t)},padNumber:function(e,t){for(var n=e.toString();n.length<t;)n="0"+n;return n},measureSpace:function(){var t=document.createElement("div"),n,i=0,r=document.body,s=e.utils.guid("measureSpace"),a='<div class="',l="</div>",o="</span>";if(t.innerHTML=a+'syntaxhighlighter">'+a+'lines">'+a+'line">'+a+'content"><span class="block"><span id="'+s+'">&nbsp;</span></span></div></div></div></div>',r.appendChild(t),n=document.getElementById(s),/opera/i.test(navigator.userAgent)){var c=window.getComputedStyle(n,null);i=parseInt(c.getPropertyValue("width"))}else i=n.offsetWidth;return r.removeChild(t),i},processTabs:function(e,t){for(var n="",i=0;i<t;i++)n+=" ";return e.replace(/\t/g,n)},processSmartTabs:function(t,n){function i(e,t,n){return e.substr(0,t)+a.substr(0,n)+e.substr(t+1,e.length)}for(var r=t.split("\n"),s="\t",a="",l=0;l<50;l++)a+="                    ";return t=e.utils.eachLine(t,function(e){if(-1==e.indexOf(s))return e;for(var t=0;-1!=(t=e.indexOf(s));){e=i(e,t,n-t%n)}return e})},fixForBlogger:function(t){return 1==e.config.bloggerMode?t.replace(/<br\s*\/?>|&lt;br\s*\/?&gt;/gi,"\n"):t},trim:function(e){return e.replace(/\s*$/g,"").replace(/^\s*/,"")},unindent:function(t){for(var n=e.utils.fixForBlogger(t).split("\n"),i=new Array,r=/^\s*/,s=1e3,a=0;a<n.length&&s>0;a++){var l=n[a];if(0!=e.utils.trim(l).length){var o=r.exec(l);if(null==o)return t;s=Math.min(o[0].length,s)}}if(s>0)for(var a=0;a<n.length;a++)n[a]=n[a].substr(s);return n.join("\n")},matchesSortCallback:function(e,t){return e.index<t.index?-1:e.index>t.index?1:e.length<t.length?-1:e.length>t.length?1:0},getMatches:function(t,n){function i(t,n){return[new e.Match(t[0],t.index,n.css)]}for(var r=0,s=null,a=[],l=n.func?n.func:i;null!=(s=n.regex.exec(t));)a=a.concat(l(s,n));return a},processUrls:function(t){return t.replace(e.regexLib.url,function(e){return'<a href="'+e+'">'+e+"</a>"})}},highlight:function(t,n){function i(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}var r=n?[n]:i(document.getElementsByTagName(e.config.tagName)),s="innerHTML",a=null;if(0!==r.length)for(var l=0;l<r.length;l++){var o=r[l],c=e.utils.parseParams(o.className),u;if(c=e.utils.merge(t,c),null!=(u=c.brush)){if("true"==c["html-script"])a=new e.HtmlScript(u);else{var h=e.utils.findBrush(u);if(!h)continue;a=new h}a.highlight(o.innerHTML,c);var g=a.div;e.config.debug&&(g=document.createElement("textarea"),g.value=a.div.innerHTML,g.style.width="70em",g.style.height="30em"),o.parentNode.replaceChild(g,o)}}},all:function(t){e.utils.addEvent(window,"load",function(){e.highlight(t)})}};return e.Match=function(e,t,n){this.value=e,this.index=t,this.length=e.length,this.css=n},e.Match.prototype.toString=function(){return this.value},e.HtmlScript=function(t){function n(e,t){for(var n=0;n<e.length;n++)e[n].index+=t}function i(t,i){for(var s=t.code,a=[],l=r.regexList,o=t.index+t.left.length,c=r.htmlScript,u,h=0;h<l.length;h++)u=e.utils.getMatches(s,l[h]),n(u,o),a=a.concat(u);return null!=c.left&&null!=t.left&&(u=e.utils.getMatches(t.left,c.left),n(u,t.index),a=a.concat(u)),null!=c.right&&null!=t.right&&(u=e.utils.getMatches(t.right,c.right),n(u,t.index+t[0].lastIndexOf(t.right)),a=a.concat(u)),a}var r=e.utils.findBrush(t),s=new e.brushes.Xml,a=null;if(null!=r){if(r=new r,this.xmlBrush=s,null==r.htmlScript)return void e.utils.alert(e.config.strings.brushNotHtmlScript+t);s.regexList.push({regex:r.htmlScript.code,func:i})}},e.HtmlScript.prototype.highlight=function(e,t){this.xmlBrush.highlight(e,t),this.div=this.xmlBrush.div},e.Highlighter=function(){},e.Highlighter.prototype={getParam:function(t,n){var i=this.params[t];return e.utils.toBoolean(null==i?n:i)},create:function(e){return document.createElement(e)},isMatchNested:function(e){for(var t=0;t<this.matches.length;t++){var n=this.matches[t];if(null!==n&&(e.index>n.index&&e.index<n.index+n.length))return!0}return!1},findMatches:function(t,n){var i=[];if(null!=t)for(var r=0;r<t.length;r++)i=i.concat(e.utils.getMatches(n,t[r]));return i=i.sort(e.utils.matchesSortCallback)},removeNestedMatches:function(){for(var e=0;e<this.matches.length;e++)this.isMatchNested(this.matches[e])&&(this.matches[e]=null)},createDisplayLines:function(t){var n=t.split(/\n/g),i=parseInt(this.getParam("first-line")),r=(i+n.length).toString().length,s=this.getParam("highlight",[]);t="";for(var a=0;a<n.length;a++){var l=n[a],o=/^(&nbsp;|\s)+/.exec(l),c="line alt"+(a%2==0?1:2),u=e.utils.padNumber(i+a,r),h=-1!=s.indexOf((i+a).toString()),g=null;null!=o?(g=o[0].toString(),l=l.substr(g.length),g=g.replace(/&nbsp;/g," "),o=e.vars.spaceWidth*g.length):o=0,l=e.utils.trim(l),0==l.length&&(l="&nbsp;"),h&&(c+=" highlighted"),t+='<div class="'+c+'"><code class="number">'+u+'.</code><span class="content">'+(null!=g?'<code class="spaces">'+g.replace(/\s/g,"&nbsp;")+"</code>":"")+'<span class="block" style="margin-left: '+o+'px !important;">'+l+"</span></span></div>"}return t},processMatches:function(t,n){for(var i=0,r="",s=e.utils.decorate,a=0;a<n.length;a++){var l=n[a];null!==l&&0!==l.length&&(r+=s(t.substr(i,l.index-i),"plain")+s(l.value,l.css),i=l.index+l.length)}return r+=s(t.substr(i),"plain")},highlight:function(t,n){var i=e.config,r=e.vars,s,a;this.params={},this.div=null,this.lines=null,this.code=null,this.bar=null,this.toolbarCommands={},this.id=e.utils.guid("highlighter_"),r.highlighters[this.id]=this,null===t&&(t=""),null===r.spaceWidth&&(r.spaceWidth=e.utils.measureSpace()),this.params=e.utils.merge(e.defaults,n||{}),1==this.getParam("light")&&(this.params.toolbar=this.params.gutter=!1),this.div=s=this.create("DIV"),this.lines=this.create("DIV"),this.lines.className="lines",s.className="syntaxhighlighter",s.id=this.id,this.getParam("collapse")&&(s.className+=" collapsed"),0==this.getParam("gutter")&&(s.className+=" nogutter"),s.className+=" "+this.getParam("class-name"),s.style.fontSize=this.getParam("font-size",""),this.originalCode=t,this.code=e.utils.trimFirstAndLastLines(t).replace(/\r/g," "),a=this.getParam("tab-size"),this.code=1==this.getParam("smart-tabs")?e.utils.processSmartTabs(this.code,a):e.utils.processTabs(this.code,a),this.code=e.utils.unindent(this.code),this.getParam("toolbar")&&(this.bar=this.create("DIV"),this.bar.className="bar",this.bar.appendChild(e.toolbar.create(this)),s.appendChild(this.bar)),this.getParam("ruler")&&s.appendChild(e.utils.createRuler()),s.appendChild(this.lines),this.matches=this.findMatches(this.regexList,this.code),this.removeNestedMatches(),t=this.processMatches(this.code,this.matches),t=this.createDisplayLines(e.utils.trim(t)),this.getParam("auto-links")&&(t=e.utils.processUrls(t)),this.lines.innerHTML=t},getKeywords:function(e){return"\\b"+(e=e.replace(/^\s+|\s+$/g,"").replace(/\s+/g,"\\b|\\b"))+"\\b"},forHtmlScript:function(e){this.htmlScript={left:{regex:e.left,css:"script"},right:{regex:e.right,css:"script"},code:new XRegExp("(?<left>"+e.left.source+")(?<code>.*?)(?<right>"+e.right.source+")","sgi")}}},e}();Array.indexOf||(Array.prototype.indexOf=function(e,t){t=Math.max(t||0,0);for(var n=t;n<this.length;n++)if(this[n]==e)return n;return-1}),window.XRegExp||function(){var e={exec:RegExp.prototype.exec,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},t={part:/(?:[^\\([#\s.]+|\\(?!k<[\w$]+>|[pP]{[^}]+})[\S\s]?|\((?=\?(?!#|<[\w$]+>)))+|(\()(?:\?(?:(#)[^)]*\)|<([$\w]+)>))?|\\(?:k<([\w$]+)>|[pP]{([^}]+)})|(\[\^?)|([\S\s])/g,replaceVar:/(?:[^$]+|\$(?![1-9$&`']|{[$\w]+}))+|\$(?:([1-9]\d*|[$&`'])|{([$\w]+)})/g,extended:/^(?:\s+|#.*)+/,quantifier:/^(?:[?*+]|{\d+(?:,\d*)?})/,classLeft:/&&\[\^?/g,classRight:/]/g},n=function(e,t,n){for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1},i=void 0!==/()??/.exec("")[1],r={};XRegExp=function(i,s){if(i instanceof RegExp){if(void 0!==s)throw TypeError("can't supply flags when constructing one RegExp from another");return i.addFlags()}var s=s||"",a=s.indexOf("s")>-1,l=s.indexOf("x")>-1,o=!1,c=[],u=[],h=t.part,g,d,p,f,m;for(h.lastIndex=0;g=e.exec.call(h,i);)g[2]?t.quantifier.test(i.slice(h.lastIndex))||u.push("(?:)"):g[1]?(c.push(g[3]||null),g[3]&&(o=!0),u.push("(")):g[4]?(f=n(c,g[4]),u.push(f>-1?"\\"+(f+1)+(isNaN(i.charAt(h.lastIndex))?"":"(?:)"):g[0])):g[5]?u.push(r.unicode?r.unicode.get(g[5],"P"===g[0].charAt(1)):g[0]):g[6]?"]"===i.charAt(h.lastIndex)?(u.push("["===g[6]?"(?!)":"[\\S\\s]"),h.lastIndex++):(d=XRegExp.matchRecursive("&&"+i.slice(g.index),t.classLeft,t.classRight,"",{escapeChar:"\\"})[0],u.push(g[6]+d+"]"),h.lastIndex+=d.length+1):g[7]?a&&"."===g[7]?u.push("[\\S\\s]"):l&&t.extended.test(g[7])?(p=e.exec.call(t.extended,i.slice(h.lastIndex-1))[0].length,t.quantifier.test(i.slice(h.lastIndex-1+p))||u.push("(?:)"),h.lastIndex+=p-1):u.push(g[7]):u.push(g[0]);return m=RegExp(u.join(""),e.replace.call(s,/[sx]+/g,"")),m._x={source:i,captureNames:o?c:null},m},XRegExp.addPlugin=function(e,t){r[e]=t},RegExp.prototype.exec=function(t){var n=e.exec.call(this,t),r,s,a;if(n){if(i&&n.length>1&&(a=new RegExp("^"+this.source+"$(?!\\s)",this.getNativeFlags()),e.replace.call(n[0],a,function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),this._x&&this._x.captureNames)for(s=1;s<n.length;s++)(r=this._x.captureNames[s-1])&&(n[r]=n[s]);this.global&&this.lastIndex>n.index+n[0].length&&this.lastIndex--}return n}}(),RegExp.prototype.getNativeFlags=function(){return(this.global?"g":"")+(this.ignoreCase?"i":"")+(this.multiline?"m":"")+(this.extended?"x":"")+(this.sticky?"y":"")},RegExp.prototype.addFlags=function(e){var t=new XRegExp(this.source,(e||"")+this.getNativeFlags());return this._x&&(t._x={source:this._x.source,captureNames:this._x.captureNames?this._x.captureNames.slice(0):null}),t},RegExp.prototype.call=function(e,t){return this.exec(t)},RegExp.prototype.apply=function(e,t){return this.exec(t[0])},XRegExp.cache=function(e,t){var n="/"+e+"/"+(t||"");return XRegExp.cache[n]||(XRegExp.cache[n]=new XRegExp(e,t))},XRegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,"\\$&")},XRegExp.matchRecursive=function(e,t,n,i,r){var r=r||{},s=r.escapeChar,a=r.valueNames,i=i||"",l=i.indexOf("g")>-1,o=i.indexOf("i")>-1,c=i.indexOf("m")>-1,u=i.indexOf("y")>-1,i=i.replace(/y/g,""),t=t instanceof RegExp?t.global?t:t.addFlags("g"):new XRegExp(t,"g"+i),n=n instanceof RegExp?n.global?n:n.addFlags("g"):new XRegExp(n,"g"+i),h=[],g=0,d=0,p=0,f=0,m,x,v,b,w,y;if(s){if(s.length>1)throw SyntaxError("can't supply more than one escape character");if(c)throw TypeError("can't supply escape character when using the multiline flag");w=XRegExp.escape(s),y=new RegExp("^(?:"+w+"[\\S\\s]|(?:(?!"+t.source+"|"+n.source+")[^"+w+"])+)+",o?"i":"")}for(;;){if(t.lastIndex=n.lastIndex=p+(s?(y.exec(e.slice(p))||[""])[0].length:0),v=t.exec(e),b=n.exec(e),v&&b&&(v.index<=b.index?b=null:v=null),v||b)d=(v||b).index,p=(v?t:n).lastIndex;else if(!g)break;if(u&&!g&&d>f)break;if(v)g++||(m=d,x=p);else{if(!b||!g)throw t.lastIndex=n.lastIndex=0,Error("subject data contains unbalanced delimiters");if(!--g&&(a?(a[0]&&m>f&&h.push([a[0],e.slice(f,m),f,m]),a[1]&&h.push([a[1],e.slice(m,x),m,x]),a[2]&&h.push([a[2],e.slice(x,d),x,d]),a[3]&&h.push([a[3],e.slice(d,p),d,p])):h.push(e.slice(x,d)),f=p,!l))break}d===p&&p++}return l&&!u&&a&&a[0]&&e.length>f&&h.push([a[0],e.slice(f),f,e.length]),t.lastIndex=n.lastIndex=0,h};