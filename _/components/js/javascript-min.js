$(document).ready(function(e){$("img[usemap]").rwdImageMaps();var a=prompt("What is your name?");""!=a&&null!=a?localStorage.setItem("name",a):(alert("We need your name to load your flower!"),setTimeout(function(){window.location.reload()},100)),$(function(){$(".petal_title").remove(),$("area").each(function(){for(var e=$(this).data("name"),a=$(this).attr("coords"),r=0,t=1/0,s=0,n=1/0,p=0,i=$(this).attr("coords").split(",");p<i.length;){var I=parseInt(i[p++],10),l=parseInt(i[p++],10);I<t?t=I:I>r&&(r=I),l<n?n=l:l>s&&(s=l)}if("Water"==e)var o=1.1*parseInt(i[1]),f=i[0],v=localStorage.getItem("name"),e=v;else if("Earth_1"==e)var _=t+(r-t)/2,o=1.1*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Earth_2"==e)var _=t+(r-t)/2,o=1.17*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Air_1A"==e)var _=t+(r-t)/2,o=1.1*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Air_2B"==e)var _=t+(r-t)/2,o=1.15*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Air_2A"==e)var _=t+(r-t)/2,o=1.4*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Air_1B"==e)var _=t+(r-t)/2,o=1.2*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_1A1"==e)var _=t+(r-t)/2,o=1.08*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_1A2"==e)var _=t+(r-t)/2,o=1.08*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_1B1"==e)var _=t+(r-t)/2,o=1.1*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_1B2"==e)var _=t+(r-t)/2,o=1.25*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_2B1"==e)var _=t+(r-t)/2,o=1.07*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_2B2"==e)var _=t+(r-t)/2,o=1.1*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_2A2"==e)var _=t+(r-t)/2,o=1.35*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else var _=t+(r-t)/2,o=parseInt(_),c=n+(s-n)/2,f=parseInt(c);var m=$('<span class="petal_title">'+e+"</span>");m.css({top:f+"px",left:o+"px",position:"absolute"}),m.appendTo("#lotusmap")})}),$("area").on("focus",function(e){e.preventDefault(),$(".selection p").html($(this).attr("class"))})}),$(window).resize(function(){$(".petal_title").remove(),$("area").each(function(){for(var e=$(this).data("name"),a=$(this).attr("coords"),r=0,t=1/0,s=0,n=1/0,p=0,i=$(this).attr("coords").split(",");p<i.length;){var I=parseInt(i[p++],10),l=parseInt(i[p++],10);I<t?t=I:I>r&&(r=I),l<n?n=l:l>s&&(s=l)}if("Water"==e)var o=1.1*parseInt(i[1]),f=i[0],v=localStorage.getItem("name"),e=v;else if("Earth_1"==e)var _=t+(r-t)/2,o=1.1*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Earth_2"==e)var _=t+(r-t)/2,o=1.17*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Air_1A"==e)var _=t+(r-t)/2,o=1.1*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Air_2B"==e)var _=t+(r-t)/2,o=1.15*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Air_2A"==e)var _=t+(r-t)/2,o=1.4*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Air_1B"==e)var _=t+(r-t)/2,o=1.2*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_1A1"==e)var _=t+(r-t)/2,o=1.08*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_1A2"==e)var _=t+(r-t)/2,o=1.08*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_1B1"==e)var _=t+(r-t)/2,o=1.1*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_1B2"==e)var _=t+(r-t)/2,o=1.25*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_2B1"==e)var _=t+(r-t)/2,o=1.07*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_2B2"==e)var _=t+(r-t)/2,o=1.1*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else if("Fire_2A2"==e)var _=t+(r-t)/2,o=1.35*parseInt(_),c=n+(s-n)/2,f=parseInt(c);else var _=t+(r-t)/2,o=parseInt(_),c=n+(s-n)/2,f=parseInt(c);var m=$('<span class="petal_title">'+e+"</span>");m.css({top:f+"px",left:o+"px",position:"absolute"}),m.appendTo("#lotusmap")})});